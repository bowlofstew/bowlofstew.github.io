<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Bowl of Stew &middot; Software developer
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51497840-1', 'bowlofstew.github.io');
  ga('send', 'pageview');

</script>


  <body>

    <div class="container content">
      <div class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">Bowl of Stew</a>
          <small>Software developer</small>
        </h3>
      </div>


      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="//monitoring-financial-instruments">
        Modelling Instruments
      </a>
    </h1>

    <span class="post-date">31 May 2014</span>

    <h2><em>Listed financial instrument modelling</em></h2>

<p>I was thinking about modeling exchange listed financial derivatives.  What do
you think the main actors are that we need to model for (exchange) listed
derivatives?  Let us think about the data structures.  I will neglect any
member functions for now below.</p>

<p><em>An instrument</em></p>
<div class="highlight"><pre><code class="c++ language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">Instrument</span> <span class="p">{</span>
  <span class="nl">private:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">nameM</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>But we need more information though!  What if Gold is traded on 2 exchanges?</p>

<p><em>Let&#39;s add an....Exchange</em></p>
<div class="highlight"><pre><code class="c++ language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">Exchange</span> <span class="p">{</span>
  <span class="k">private</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">nameM</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>This now leads us to:</p>
<div class="highlight"><pre><code class="c++ language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">Instrument</span> <span class="p">{</span>
  <span class="nl">private:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">nameM</span><span class="p">;</span>
    <span class="n">Exchange</span> <span class="n">exchangeM</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>But we now have yet another problem, what if the 2 changes trade the instrument
in difference currencies?  How shall we represent the currency here? A typical
representation in programming is <a href="http://www.iso.org/iso/home/standards/currency_codes.htm">ISO 4217</a>.
There is a C++ implementation of <a href="https://github.com/castedo/isomon">this</a> standard available.
Lets use that:</p>
<div class="highlight"><pre><code class="c++ language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">Instrument</span> <span class="p">{</span>
  <span class="nl">private:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">nameM</span><span class="p">;</span>
    <span class="n">Exchange</span> <span class="n">exchangeM</span><span class="p">;</span>
    <span class="n">currency</span> <span class="n">currencyM</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>This is all good but we haven&#39;t covered the aspect of a derivative being listed,
expiring, and last traded on a particular date:</p>
<div class="highlight"><pre><code class="c++ language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">Instrument</span> <span class="p">{</span>
  <span class="nl">private:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">nameM</span><span class="p">;</span>
    <span class="n">Exchange</span> <span class="n">exchangeM</span><span class="p">;</span>
    <span class="n">currency</span> <span class="n">currencyM</span><span class="p">;</span>
    <span class="kt">time_t</span> <span class="n">listAtM</span><span class="p">;</span>
    <span class="kt">time_t</span> <span class="n">expireAtM</span><span class="p">;</span>
    <span class="kt">time_t</span> <span class="n">lastTradeDateM</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>NOTE: I have shown time_t but really recommend using something like the Boost
date/time facilities for this.  </p>

<p>We haven&#39;t yet modeled the tick size yet though which is a very important item
for pricing!</p>
<div class="highlight"><pre><code class="c++ language-c++" data-lang="c++"><span class="k">class</span> <span class="nc">Instrument</span> <span class="p">{</span>
  <span class="nl">private:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">nameM</span><span class="p">;</span>
    <span class="n">Exchange</span> <span class="n">exchangeM</span><span class="p">;</span>
    <span class="n">currency</span> <span class="n">currencyM</span><span class="p">;</span>
    <span class="kt">time_t</span> <span class="n">listAtM</span><span class="p">;</span>
    <span class="kt">time_t</span> <span class="n">expireAtM</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">tickSizeM</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Something still seems fishy though.....We still haven&#39;t modeled the underlying
instrument.  That being said, I will cover it next time but if you want to cover
the topics here in more detail check out <a href="http://www.cmegroup.com/trading/interest-rates/stir/eurodollar_contract_specifications.html">this</a>.</p>

<p>Next, we will review what kind of instrument (derivative) &amp; the underlying instrument
for the derivative.</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>
      


      <div class="footer">
        <p>
          &copy; 2014. All rights reserved.
        </p>
      </div>
    </div>

  </body>
</html>
